<nav class="navbar navbar-expand-lg navbar-dark bg-dark" *ngIf="application.cid">
    <div class="container-fluid">
        <a class="navbar-brand" [routerLink]="['/Home',application.cid]">INBANK</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" [routerLink]="['/Home',application.cid]">Home</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" [routerLink]="['/Faq',application.cid]">About Us</a>
            </li>
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" [routerLink]="['/Faq',application.cid]">FAQ</a>
            </li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" [routerLink]="['/IncomeDetails',application.cid]">Apply for New Loan</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" [routerLink]="['/ApplicationDetails',application.cid]">Application Details</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" [routerLink]="['/EMICalculator',application.cid]">EMI Calculator</a>
                </li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav justify-content-end">
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Logout
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" routerLink="/">Logout</a></li>
                        <li><a class="dropdown-item" [routerLink]="['/UpdateUserPassword',application.cid]">Personal Details</a></li>
                        <li><a class="dropdown-item" [routerLink]="['/UpdateUserPassword',application.cid]">Change Password</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>

<span *ngIf="application.cid">

<br><br>

<div>
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h4 class="card-title">Your Application Details</h4>
                    <h6 class="card-subtitle mb-2 text-muted">*Click on View All Details to Review your submitted Application</h6>
                    <h6 class="card-subtitle mb-2 text-muted">*Track Your Application but Clicking on <i>Track Your Loan Status</i> and Ensure to Enter Proper Application No and Mobile No</h6>
                    <hr>
                    <div class="row">
                        <h2 class="col"><a class="btn btn-lg text-white btn-primary" (click)="get_details()">View All Details</a></h2>
                    <h2 class="col"><a class="btn btn-lg text-white btn-primary" (click)="track()">Track Your Loan Status</a></h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<br><br>

<div class="container" *ngIf="btnflag1">
    <div class="row justify-content-center">
        <div class="col-md-8">
                <div class="card">
                    <div class="card bg-light text-dark">
                        <div class="card-body text-center"><h2><i class="fas fa-tasks"></i> Track Status of Your Loan</h2></div>
                    </div>

                    <div class="card">
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item" style="color:red;">*Note</li>
                            <li class="list-group-item text-center">Your APPLICATION NO : <b>{{application.applicationNumber}}</b></li>
                        </ul>
                    </div>
                    
                    <div class="card-body">
                        <form #TrackLoanForm="ngForm" (ngSubmit)="get_applicationsbyID(TrackLoanForm.value)">
                            <br>

                            <div class="row justify-content-center">
                                <div class="form-group col-lg-3">
                                    <label for="appno" class="form-label"><h5>Application Number</h5></label>
                                </div>
                                <div class="form-group col-lg-5">
                                    <input class="form-control" type="text" id="applicationNumber" name="applicationNumber" [(ngModel)]="applicationNumber">
                                </div>
                            </div>

                            <br>

                            <div class="row justify-content-center">
                                <div class="form-group col-lg-3">
                                    <label for="mobno" class="form-label"><h5>Mobile Number</h5></label>
                                </div>
                                <div class="form-group col-lg-5">
                                    <input class="form-control" type="text" id="phoneNumber" name="phoneNumber" [(ngModel)]="phoneNumber">
                                </div>
                            </div>
                            <br>
                            <span style="color:red" *ngIf="!btnflag">{{alertmsg}}</span>
                            <br>

                            <div class="row justify-content-center">
                                <div class="form-group col-lg-7">
                                    <button type= "submit" id="trackl" name="trackl" class="form-control btn btn-success">Track Status</button>
                                </div>
                            </div>

                        </form>

                        <hr>
                        <span *ngIf="application.applicationNumber==applicationNumber">
                        <div class="row justify-content-center" *ngIf = "btnflag">
                            <div class="form-group col-lg-4">
                                <label for="appno" class="form-label"><h3><i class="fas fa-spinner"></i>  Application Status</h3></label>
                            </div>
                            <div class="form-group col-auto btn btn {{ btnclassname }}">
                                    {{ btnmsg }}
                            </div>
                        </div>
                        </span>
                        <hr *ngIf = "btnflag">
                        <div class="row justify-content-center" *ngIf = "accflag">
                            <div class="form-group btn btn alert-success">
                                    {{ appmsg }}
                            </div>
                            <div *ngFor="let a of accounts">
                            <div class="form-group" *ngIf="application.cid == a.cid">
                                <br>
                                <label for="appno" class="form-label align-text-center"><h2><i class="fas fa-caret-right"></i> Account Number : {{a.accountNumber}}</h2></label>
                            </div>
                            <br>
                            <div class="form-group" *ngIf="application.cid == a.cid">
                                <label for="appno" class="form-label"><h2><i class="fas fa-balance-scale"></i> Balance : {{a.balance}}</h2></label>
                            </div>
                            </div>
                            <hr>
                        </div>

                    </div>
                </div>
        </div>
    </div>
</div>
<hr>

<br><br>

<div class="container" *ngIf="btnflag2">
    <div class="alert alert-primary" role="alert">
        <h2>APPLICATION NO : <b>{{application.applicationNumber}}</b></h2>
    </div>

    <div class="card">
        <div class="card bg-light text-dark">
            <div class="card-body text-center"><h2><i class="fas fa-user"></i> Personal Details</h2></div>
        </div>
    <span *ngFor="let p of users">
    <form class="row g-3 card-body" *ngIf="application.cid == p.cid">
        <div class="col-md-4">
            <label for="inputEmail4" class="form-label">First Name</label>
            <input type="email" class="form-control" value="{{p.firstName}}" disabled>
        </div>
        
        <div class="col-md-4">
            <label for="inputEmail4" class="form-label">Middle Name</label>
            <input type="text" class="form-control" value="{{p.middleName}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputPassword4" class="form-label">Last Name</label>
            <input type="text" class="form-control" value="{{p.lastName}}" disabled>
        </div>
        <div class="col-12">
            <label for="inputAddress" class="form-label">Address</label>
            <input type="text" class="form-control" disabled value="{{p.address}}">
        </div>
        <div class="col-md-3">
            <label for="inputPassword4" class="form-label">Phone Number</label>
            <input type="text" class="form-control" value="{{p.phoneNumber}}" disabled>
        </div>
        <div class="col-md-3">
            <label for="inputPassword4" class="form-label">Date of Birth</label>
            <input type="text" class="form-control" value="{{p.dob}}" disabled>
        </div>
        <div class="col-md-3">
            <label for="inputPassword4" class="form-label">AGE</label>
            <input type="text" class="form-control" value="{{p.age}}" disabled>
        </div>
        <div class="col-md-3">
            <label for="inputPassword4" class="form-label">Email</label>
            <input type="text" class="form-control" value="{{p.email}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputEmail4" class="form-label">Nationality</label>
            <input type="text" class="form-control" value="{{p.nationality}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputEmail4" class="form-label">Aadharcard Number</label>
            <input type="text" class="form-control" value="{{p.aadharNo}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputPassword4" class="form-label">Pancard Number</label>
            <input type="text" class="form-control" value="{{p.panNo}}" disabled>
        </div>
    </form>
</span>

    </div>
    <br>
    <div class="card">
        <div class="card bg-light text-dark">
            <div class="card-body text-center"><h2><i class="fas fa-money-check-alt"></i> Income Details</h2></div>
        </div>
        <span *ngFor="let i of incomes">
    <form class="row g-3 card-body" *ngIf="application.inId == i.inId">
        <div class="col-md-6">
            <label for="inputEmail4" class="form-label">Type of Employment</label>
            <input type="text" class="form-control" value="{{i.typeEmployment}}" disabled>
        </div>
        <div class="col-md-6">
            <label for="inputEmail4" class="form-label">RetireMent Age</label>
            <input type="text" class="form-control" value="{{i.retirementAge}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputPassword4" class="form-label">Organization Type</label>
            <input type="text" class="form-control" value="{{i.organizationType}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputPassword4" class="form-label">Organization Name</label>
            <input type="text" class="form-control" value="{{i.organizationName}}" disabled>
        </div>
        <div class="col-md-4">
            <label for="inputPassword4" class="form-label">Monthly Salary</label>
            <input type="text" class="form-control" value="{{i.monthlySalary}}" disabled>
        </div>
        <div class="col-12">
            <label for="inputAddress" class="form-label">Organization Address</label>
            <input type="text" class="form-control" value="{{i.organizationAddress}}" disabled>
        </div>
    </form>
    </span>
    </div>
    <br>

    <div class="card">
        <div class="card bg-light text-dark">
            <div class="card-body text-center"><h2><i class="fas fa-location-arrow"></i> Property Details</h2></div>
        </div>
        <span *ngFor="let pr of properties">
        <form class="row g-3 card-body" *ngIf="application.prId == pr.prId">
            <div class="col-md-6">
                <label for="inputEmail4" class="form-label">Property Name</label>
                <input type="email" class="form-control" value="{{pr.propertyName}}" disabled>
            </div>
            <div class="col-md-6">
                <label for="inputEmail4" class="form-label">Property Amount</label>
                <input type="email" class="form-control" value="{{pr.amount}}" disabled>
            </div>
            <div class="col-12">
                <label for="inputAddress" class="form-label">Property Address</label>
                <input type="text" class="form-control" value="{{pr.location}}" disabled>
            </div>
        </form>
        </span>
    </div>
    <br>

    <div class="card">
        <div class="card bg-light text-dark">
            <div class="card-body text-center"><h2><i class="fas fa-university"></i> Loan Details</h2></div>
        </div>
        <span *ngFor="let l of loans">
        <form class="row g-3 card-body" *ngIf="application.lId ==l.lId">
            <div class="col-md-4">
                <label for="inputEmail4" class="form-label">Interest Rate</label>
                <input type="text" class="form-control" value="{{l.interestRate}}" disabled>
            </div>
            <div class="col-md-4">
                <label for="inputEmail4" class="form-label">Loan Amount</label>
                <input type="text" class="form-control"  value="{{l.loanAmt}}" disabled>
            </div>
            <div class="col-md-4">
                <label for="inputEmail4" class="form-label">Tenure</label>
                <input type="text" class="form-control"  value="{{l.tenure}}" disabled>
            </div>
        </form>
        </span>
    </div>
    <br>
    
    <div class="card">
        <div class="card bg-light text-dark">
            <div class="card-body text-center"><h2><i class="fas fa-file-alt"></i> Document Details</h2></div>
        </div>
    <span *ngFor="let d of documents">
    <form class="row g-3 card-body" *ngIf="application.dId ==d.dId">
        <div class="col-md-3">
            <label for="inputEmail4" class="form-label"><h5><b>Pancard</b></h5></label>
        </div>
        <div class="col-md-3">
            <a href="{{d.pancard}}" target="_blank" class="btn btn-expand col-6 btn-info d-grid gap-2">View</a>
        </div>
        <div class="col-md-3">
            <label for="inputEmail4" class="form-label"><h5><b>Voter ID card</b></h5></label>
        </div>
        <div class="col-md-3">
            <a href="{{d.voterId}}" target="_blank" class="btn btn-expand col-6 btn-info d-grid gap-2">View</a>
        </div>
        <div class="col-md-3">
            <label for="inputEmail4" class="form-label"><h5><b>Salary Slip</b></h5></label>
        </div>
        <div class="col-md-3">
            <a href="{{d.salarySlip}}" target="_blank" class="btn btn-expand col-6 btn-info d-grid gap-2">View</a>
        </div>
        <div class="col-md-3">
            <label for="inputEmail4" class="form-label"><h5><b>LOA</b></h5></label>
        </div>
        <div class="col-md-3">
            <a href="{{d.loa}}" target="_blank" class="btn btn-expand col-6 btn-info d-grid gap-2">View</a>
        </div>
        <div class="col-md-3">
            <label for="inputEmail4" class="form-label"><h5><b>NOC</b></h5></label>
        </div>
        <div class="col-md-3">
            <a href="{{d.noc}}" target="_blank" class="btn btn-expand col-6 btn-info d-grid gap-2">View</a>
        </div>
        <div class="col-md-3">
            <label for="inputEmail4" class="form-label"><h5><b>AGREEMENT</b></h5></label>
        </div>
        <div class="col-md-3">
            <a href="{{d.agreement}}" target="_blank" class="btn btn-expand col-6 btn-info d-grid gap-2">View</a>
        </div>
    </form>
    </span>
    </div>
    <br>

</div>
<br><br><br><br><br>

</span>

<nav class="navbar navbar-expand-lg navbar-dark bg-dark" *ngIf="!application.cid">
    <div class="container-fluid">
        <a class="navbar-brand" routerLink="/">INBANK</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link active" aria-current="page" routerLink="/">Home</a>
            </li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav justify-content-center">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" routerLink="/IncomeDetails">Apply for New Loan</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" routerLink="/EMICalculator">EMI Calculator</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" routerLink="/Faq">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" routerLink="/Faq">FAQ</a>
                </li>
            </ul>
        </div>
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav justify-content-end">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" routerLink="/AdminLogin">Admin Here!</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" routerLink="/RegisterUser">Register</a>
                </li>
            </ul>
        </div>
    </div>
</nav>

<span *ngIf="!application.cid">
<div class="jumbotron bg-dark text-white">
    <h1 class="display-4">Please Login Or Register!</h1>
    <p class="lead">Apply for Home Loan at best interest rate ever and give your family a Gift with Real Happiness</p>
    <hr class="my-4">
    <p>Your Tust Matters to us a LOT! because we are the one to give you a More Better Living Don't we?
    </p>
    <a class="btn btn-primary btn-lg" href="#" role="button">Learn more</a>
    </div>
</span>

